rule vcftools_extract_sample:
	input:
		vcf = "{basedir}/{analysis}/{analysis}_final_temp.vcf"
	output:
		"{basedir}/{analysis}/{prefix}/CNVnator/{prefix}_vcf_cnvnator.vcf"
	resources: io=30
	log:
		"{basedir}/{analysis}/log/{prefix}/CNVnator/{prefix}_vcf_cnvnator.log"
	run:
		sample = wildcards.prefix.split("_")[0]
		print(sample)
		cmd = "vcf-subset -c " +str(sample) + " {input.vcf} > {output} 2>&1 | tee -a {log}"
		shell(cmd)
