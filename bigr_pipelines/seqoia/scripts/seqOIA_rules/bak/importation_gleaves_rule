rule importation_gleaves:
	input:
		vcf = "{export_dir}/{analysis}/{analysis}_final.vcf",
		json = "{export_dir}/{analysis}/{analysis}.json",
		config = lambda wildcards: expand("{conf_path}/.config.gleaves", conf_path = conf_path),
		flag = lambda wildcards: expand("{basedir}/{analysis}/{analysis}_qc_validation.done", basedir=basedir, analysis=wildcards.analysis)
	output:
		flag = "{export_dir}/{analysis}/{analysis}_importation_gleaves.done"
	log:
		basedir+"/{analysis}/log/{analysis}_importation_gleaves.log"
	shell:
		"touch {output.flag}"
		#"java -Xmx5000m -Xms5000m -XX:ParallelGCThreads=2 -XX:+AggressiveHeap -jar /usr/share/gleaves_importation/gleaves-send-importation.jar {input.config} {input.json} 2>&1 | tee -a {log} && touch {output.flag}"
