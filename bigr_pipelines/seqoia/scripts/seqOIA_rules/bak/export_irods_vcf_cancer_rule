rule export_irods_vcf_cancer:
	input:
		vcf = lambda wildcards: expand("{basedir}/{analysis}/{analysis}_final_temp.vcf", basedir=basedir, analysis=wildcards.analysis),
		qc_lab = lambda wildcards: expand("{basedir}/{analysis}/{analysis}_qc_lab_temp.csv",basedir=basedir, analysis=wildcards.analysis)
	output:
		vcf = "{export_dir}/{analysis}/{analysis}_final.vcf",
		qc_lab = "{export_dir}/{analysis}/{analysis}_qc_lab.csv",
		config = "{export_dir}/{analysis}/config/",
	priority: 41
	params:
		cluster_config = config["general_informations"]["CLUSTER_CONFIG"],
		pipeline_config = config["general_informations"]["PIPELINE_CONFIG"]
	log:
		basedir+"/{analysis}/log/vcf_export_irods.log"
	shell:
		"rsync -Paz {input.vcf} {output.vcf} && rsync -Paz {input.qc_lab} {output.qc_lab} && rsync -Paz {params.cluster_config} {params.pipeline_config} {output.config} 2>&1 | tee -a {log}"
