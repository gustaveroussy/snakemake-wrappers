rule fusion_reciproque_creation:
	input:
		"{basedir}/{analysis}/{sample}/star_fusion/fusion_merged.txt"
	output:
		temp("{basedir}/{analysis}/{sample}/star_fusion/fusion_merged_reciproque.txt")
	log:
		"{basedir}/{analysis}/log/{sample}/{sample}_fusion_normalisation_reciproque.log"
	shell:
		"""
		uniq {input} > {output} && awk -F'--'  '{{ t = $1; $1 = $2; $2 = t; print; }}' {input} | sed -e 's/ /--/g' - | sort - | uniq - >> {output}
		"""